currentFilename = "Testing";
	std::filesystem::create_directory("Data/Saves/" + currentFilename);
	int worldID = 0;

	Entity_GroundTile* Ground = new Entity_GroundTile();
	Ground->SetEntityData(GetUniqueID(), false, 0.0f, 60000.0f, 0.0f);
	Ground->attachedToParent = true;
	Ground->names = { "dirt","ground","grass" };
	loadedTiles = { worldID };
	Ground->worldPos = worldID;
	Ground->toEast = std::make_pair("There is a empty field to the east", 0);
	World::Instance().AddEntity(Ground);

	World::Instance().playerEntity = new Entity_Player();
	World::Instance().playerEntity->SetEntityData(GetUniqueID(), false, 0.0f, 3783.0f, 150.0f);
	World::Instance().playerEntity->names = { "you","player" };
	World::Instance().playerEntity->SetParent(On, Ground);
	World::Instance().AddEntity(World::Instance().playerEntity);
	/*
	Entity_Anomaly* thing = new Entity_Anomaly();
	thing->SetEntityData(GetUniqueID(), false, 0.f, 0.f, 0.f);
	thing->SetParent(On, World::Instance().playerEntity);
	World::Instance().AddEntity(thing);
	*/



	BehaviorTree* RootHumanBehavior = new BehaviorTree("RootHumanBehavior", true);
	BehaviorNode* RootHumanBehaviorstart = new BehaviorNode();
	RootHumanBehavior->AddNode(RootHumanBehaviorstart, nullptr);

	BehaviorNode_Sequence* RootHumanBehaviorseq = new BehaviorNode_Sequence();
	RootHumanBehavior->AddNode(RootHumanBehaviorseq, RootHumanBehaviorstart);

	BehaviorNode_Living_AttackTarget* RootHumanBehaviorattack = new BehaviorNode_Living_AttackTarget(true);
	RootHumanBehavior->AddNode(RootHumanBehaviorattack, RootHumanBehaviorseq);


	SaveBehaviorTree(RootHumanBehavior);


	BehaviorTree* ActivateScannerDrone = new BehaviorTree("ActivateScannerDrone", false);
	BehaviorNode* start = new BehaviorNode();
	ActivateScannerDrone->AddNode(start, nullptr);

	BehaviorNode_Sequence* seq = new BehaviorNode_Sequence(3);
	ActivateScannerDrone->AddNode(seq, start);


	BehaviorNode_Living_SetSubTargetByName* activateScannerDroneSetSubTarget = new BehaviorNode_Living_SetSubTargetByName("player");
	ActivateScannerDrone->AddNode(activateScannerDroneSetSubTarget, seq);

	BehaviorNode_Living_SetTargetByName* activateScannerDroneSetTarget = new BehaviorNode_Living_SetTargetByName("drone");
	ActivateScannerDrone->AddNode(activateScannerDroneSetTarget, seq);

	BehaviorNode_ActivateMechanism* activateDrone = new BehaviorNode_ActivateMechanism("activate");
	ActivateScannerDrone->AddNode(activateDrone, seq);


	BehaviorNode_WaitForObservation* waitforScan = new BehaviorNode_WaitForObservation("the drone dings");
	ActivateScannerDrone->AddNode(waitforScan, seq);

	BehaviorNode_Living_SetTargetByName* setTargetPlayer = new BehaviorNode_Living_SetTargetByName("player");
	ActivateScannerDrone->AddNode(setTargetPlayer, seq);

	BehaviorNode_Living_SetBehaviorState* setBehaviorState = new BehaviorNode_Living_SetBehaviorState(Entity_Living::Enraged);
	ActivateScannerDrone->AddNode(setBehaviorState, seq);

	BehaviorNode_Living_AttackTarget* attackPlayer = new BehaviorNode_Living_AttackTarget(true);
	ActivateScannerDrone->AddNode(attackPlayer, seq);

	SaveBehaviorTree(ActivateScannerDrone);



	Entity_Npc* NPC = new Entity_Npc();
	NPC->SetEntityData(GetUniqueID(), false, 0.0f, 3783.0f, 150.0f);
	NPC->names = { "person" };
	NPC->SetParent(On,Ground);

	//Make Tree
	DialogTree* dialogtree = new DialogTree();
	DialogTree::DialogNode node1;
	node1.dialog = "What Business do you have?";
	node1.responses.push_back(std::make_pair("Trading", 1));
	DialogTree::DialogNode node2;
	node2.dialog = "Drone active.";
	node2.behaviorTree = ActivateScannerDrone->treeName;
	dialogtree->TreeNodes.push_back(node1);
	dialogtree->TreeNodes.push_back(node2);

	//Finish npc setup
	NPC->dialogTree = dialogtree;
	dialogtree->LivingSource = NPC;
	NPC->AddBehavior(RootHumanBehavior);
	
	
	BehaviorTree* droneScanPlayer = new BehaviorTree("DroneScanPlayer", false);
	BehaviorNode* droneScanPlayerstart = new BehaviorNode();
	droneScanPlayer->AddNode(droneScanPlayerstart, nullptr);

	BehaviorNode_Sequence* droneScanPlayerseq = new BehaviorNode_Sequence();
	droneScanPlayer->AddNode(droneScanPlayerseq, droneScanPlayerstart);

	BehaviorNode_MoveToTarget* droneScanPlayermove = new BehaviorNode_MoveToTarget();
	droneScanPlayer->AddNode(droneScanPlayermove, droneScanPlayerseq);

	BehaviorNode_TargetEntityTypeInTarget* dronescan = new BehaviorNode_TargetEntityTypeInTarget(typeid(Entity_Anomaly*).hash_code());
	droneScanPlayer->AddNode(dronescan, droneScanPlayerseq);

	BehaviorNode_AddObservation* droneScanPlayerobserver = new BehaviorNode_AddObservation("the drone dings");
	droneScanPlayer->AddNode(droneScanPlayerobserver, droneScanPlayerseq);

	SaveBehaviorTree(droneScanPlayer);



	Entity_Mechanisim* drone = new Entity_Mechanisim();
	drone->SetEntityData(GetUniqueID(), false, 0.0f, 1000.0f, 0.5f);
	Entity_Mechanisim::MechanismBehavior* droneMechanismBehavior = new Entity_Mechanisim::MechanismBehavior();
	droneMechanismBehavior->activationKey = "activate";
	droneMechanismBehavior->thirdPersonActivation = "activates";
	droneMechanismBehavior->activationTree = droneScanPlayer;
	drone->SetParent(Position::Arms, NPC);
	drone->names = { "drone" };
	drone->playerActivatable = false;

	drone->AddBehavior(droneMechanismBehavior);

	World::Instance().AddEntity(drone);



	World::Instance().AddEntity(NPC);


	Entity_Firearm* Ak47 = new Entity_Firearm(Entity_Clip::MachineGun);
	Ak47->SetEntityData(GetUniqueID(), false, 0.0, 1000.0f, 7.5f);
	Ak47->names = { "ak47", "gun" };
	Ak47->SetParent(Back, NPC);
	World::Instance().AddEntity(Ak47);

	Entity_Clip* Ak47Ammo = new Entity_Clip(7, Entity_Clip::MachineGun);
	Ak47Ammo->SetEntityData(GetUniqueID(), false, 0.0, 7.f, 0.5f);
	Ak47Ammo->names = { "clip" };
	World::Instance().AddEntity(Ak47Ammo);
	Ak47->Reload(Ak47Ammo);